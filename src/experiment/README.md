### Instruction -- Step-by-Step Guide for Conducting the Experiment
1) Настраиваем ssh, как показано в [инструкции](/wiki/yocto_cache/ssh_connection.md)
2) Заполняем файл [конфигуарции](src/setup_servers/auto_conf/[example]_experiment.conf) по пути `.../src/experiment/setup_servers/auto_conf/experiment.conf`
-  a) `cache_ip` `hash_ip` -- ip адреса ваших кэш и хэш серверов соответсвенно (это те, которые вы настроили на шаге 1)
-  b) `cache_usr` `hash_usr` -- имена пользователей ваших кэш и хэш серверов (это те, которые вы настроили на шаге 1)
-  с) `hash_port` -- порт, на котором будет размещен хэш сервер
-  d) `cache_start_port` -- порт на кэш сервере, начиная с которого будеи размещено `cache_num_port`
-  e) `cache_num_port` -- количество портов, на которых размещаются кэш сервера; соответственно заняты будут порты, начиная с {`cache_start_port`} и до {`cache_start_port` + `cache_num_port` - 1}.
-  f) `step` -- шаг, с которым будет происходить итератор теста
-  g) `max_servsers` -- верхняя граница тестового диапазона
3) Если вы задали конфигурационный файл и настроили ssh - можно запускать скрипт, переходим в директорию `.../src/experiment/setup_servers` и выполняем команду `./main.sh ./auto_conf/experiment.conf`.

В ходе проведения эксперимента в корне репозитория автоматически создаются файлы формата `test_n_m`, где n - количество кэш серверов, m - номер повторения. Таким образом если m=1, то это значит, что сборка осуществляется без кэша хэш сервера, а если m=2, то с кэшем хэш сервера.
Если все прошло успешно то можно парсить файлы так: `cat file_name | grep "Checking sstate"` -- вам нужна строка `Checking sstate mirror object availability: 100% || Time:` -- после двоеточия будет время сверки сигнатур. Дальше по данным можно строить график.

### Как работает эксперимент
#### Хэш сервер
Все, что нужно для его работы находится в `.../src/experiment/hash_server_setuper`, в этой же папке есть README.md. Работает без нареканий и багов.
#### Кэш сервер
Точкая входа в работу с кэш сервером - `.../src/experiment/cache_containers.sh`.
