## Инструкция по применению патча

1. Переместить патч cachefiles.patch в директорию poky/meta/classes-global/.
2. Применить патч: patch -p1 sstate.bbclass < cachefiles.patch
3. Запустить сборку


## Принцип работы
В файле cache_files.py реализован скрипт, который обходит кэш-сервер, и собирает информацию об имеющихся файлах в выходной файл cache_files, который затем будет использоваться при опросе зеркал.

После применения патча к файлу sstate.bbclass логика опроса зеркал изменяется, и становится следующей:
Происходит итерирование по зеркалам, с каждого зеркала пытаемся получить содержимое файла cache_files, в данный момент в патч добавлена поддержка для http и ftp протоколов. В случае успеха (мы прочитали содержимое этого файла), bitbake определяет, какие задачи из данного списка ему "подходят", и переиспользует их. Если в процессе опроса мы не смогли получить содержимое данного файла с какого-нибудь зеркала (например, потому что на зеркале не было такого файлика, или сервер устроен по другому протоколу, для которого нет поддержки), то тогда данное зеркало будет проверяться по исходному алгоритму bitbake'a.


