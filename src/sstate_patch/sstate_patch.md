## Инструкция по применению патча

1. Переместить патч cachefiles.patch в директорию poky/meta/classes-global/.
2. Применить патч: patch -p1 sstate.bbclass < cachefiles.patch
3. Запустить сборку


## Принцип работы
В файле index.txt лежат данные о тех файлах, которые находятся на зеркале - пути до них.

После применения патча к файлу sstate.bbclass логика опроса зеркал изменяется, и становится следующей:
Происходит итерирование по зеркалам, с каждого зеркала пытаемся получить содержимое файла index.txt, в данный момент в патч добавлена поддержка для http и ftp протоколов. В случае успеха (мы прочитали содержимое этого файла), bitbake определяет, какие задачи из данного списка ему "подходят", и переиспользует их. Если в процессе опроса мы не смогли получить содержимое данного файла с какого-нибудь зеркала (например, потому что на зеркале не было такого файлика, или сервер устроен по другому протоколу, для которого нет поддержки), то тогда данное зеркало будет проверяться по исходному алгоритму bitbake'a.


## Результаты, измерение ускорения
Был проведен ряд экспериментов по измерению времени сверки хэш-значений. Каждый из алгоритмов (оптимизированный и стандартный) был запущен по 7 раз.

В результате оказалось, что:
1) среднее время выполнения сверки хэш-значений по оптимизированному алгоритму составляет около 0.052 секунды.
2) среднее время выполнения сверки хэш-значений по неоптимизированному (стандартному) алгоритму составляет около 32,882 секунды.

Таким образом, получаем ускорение в ~632 раза.

Эксперименты проводились при конфигурации с одним зеркалом, настроенным по протоколу http. 