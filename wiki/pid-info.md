## Логирование PID

Логирование PID происходит при запуске функции на выполнение в функции bb.build._exec_task: https://github.com/openembedded/bitbake/blob/master/lib/bb/build.py

При этом функция запускается как задача, а при запуске функции как задачи в современных версиях bitbake логирование PID происходит <u>всегда</u>.

О разных видах функций, используемых bitbake и тех, которые можно запускать как задачи подробнее здесь, раздел 3.5: https://docs.yoctoproject.org/bitbake/bitbake-user-manual/bitbake-user-manual-metadata.html#functions

## Причины отсутствия PID в логах для некоторых задач
Причин для отсутствия PID в исходном коде bitbake нет. После проведения анализа тех задач, для которых отстуствует PID (у меня таких ~ 4 из нескольких тысяч), была выявлена общая закономерность - у таких задач суммарное время выполнения ≈ 0,00 секунд, а также очень низкие затраты ресурсов в сравнении с другими задачами. Скорее всего, при сборке для данных задач не были созданы файлы с указанием PID по причине проброски исключения.

## Причины отсутствия PID в логах для некоторых пакетов.
У меня не хватало файлов-логов только для пакета gcc-source.
В документации Yocto указано, что, в отличие от всех остальных пакетов, для gcc и его разновидностей используется не рабочий каталог в /work, а каталог /work-shared, который система сборки создает и использует "для хранения рецептов, которые совместно используют рабочий каталог с другими рецептами": https://docs.yoctoproject.org/ref-manual/structure.html, раздел 4.2.7.10..

Директория, куда будут логироваться файлы с указанным PID определяется переменной WORKDIR (переменная bitbake'a). Переменная WORKDIR определяется общим образом в файле bitbake.conf:
![image](https://github.com/moevm/os_profiling/assets/90854310/367a0f75-7448-4d3b-bee8-9f042e8b9d33)

Однако, для искомого пакета gcc-source переменная WORKDIR переопределяется в файле poky/meta/recipes-devtools/gcc/gcc-source.inc:
![image](https://github.com/moevm/os_profiling/assets/90854310/1d11c3dd-6af9-41ac-af28-a7973a2fb059)

Таким образом мы понимаем, что в данном случае WORKDIR указывает на work-shared/, а не на work/,  и можем определить PID для задач данного пакета.
