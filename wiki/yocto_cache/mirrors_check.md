## Исходный код проверки доступности зеркал

1. в sstate.bbclass устанавливается переменная BB_HASHCHECK_FUNCTION = "sstate_checkhashes", в функции sstate_checkhashes есть множества found() и missed(), куда в последствии добавляются tid найденных и ненайденных задач соответственно. Составляется список задач tasklist, содержащий кортежи вида (tid, sstatefile). Выводится сообщение "Checking sstate mirror object availability" (которое мы можем увидеть в начале сборки), а затем для каждой задачи из tasklist вызывается метод checkstatus, определенный в этом же файле
2. В методе checkstatus для каждой задачи инициализируется объект класса Fetch, объявленного в https://github.com/yoctoproject/poky/blob/28fd497a26bdcc12d952f81436a6d873d81cd462/bitbake/lib/bb/fetch2/__init__.py. В конструкторе класса Fetch в поле self.ud для каждого url инициализируется объект класса FetchData, объявленного в этом же файле. Класс FetchData хранит состояние для заданного url. В конструкторе класса FetchData происходит итерирование по списку methods (объявленном в этом же файле), и для каждого выполняется проверка, поддерживает ли этот метод заданный url. После нахождения первого поддерживаемого метода цикл прекращается.
3. Объекты, хранящиеся в списке methods - это объекты классов-методов, являющихся наследниками (конкретными реализациями) класса FetchMethod, например класс Wget поддерживает протоколы 'http', 'https', 'ftp', 'ftps'.
4. Далее в sstate.bbclass вызывается метод checkstatus класса Fetch, который, в свою очредь, вызывает методы checkstatus и try_mirrors класса FetchMethod поочередно сначала для PREMIRRORS, потом для original uri, затем для MIRRORS. Метод try_mirrors класса FetchMethod вызывает функцию try_mirrors, которая строит uri для зеркала и вызывает функцию try_mirror_url, которая возвращает False, если необходимо попробовать другой url (то есть данный является нерабочим)
