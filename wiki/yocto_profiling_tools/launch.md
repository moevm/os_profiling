## build_index и timestamp

Статистика по всем сборкам лежит в poky/build/tmp/buildstats. build_index - это индекс сборки (с конца), то есть, если указан 0, то анализируется последняя сбора, если 1, то предпоследняя и так далее. Также есть возможность не указывать build_index, а указать явно timestamp - это название папки, в которой лежит интересующая нас статистика.

## Запуск 

Есть 3 целевые задачи:
1) Запуск ранжирования
2) Запуск построения графа зависимостей и его анализ
3) Запуск тестов

Задача определяется флагом -g (--goal) и имеет соответственно 3 опции: '-g ranking', '-g graph', '-g tests'.
Разберем запуск каждой подзадачи и дополнительные флаги, необходимые для их запуска.

## Ранжирование

Для запуска ранжирования необходимо обязательно указать следующие флаги:
1) -p (--poky_path): путь до папки poky
2) -b (--build_index) ИЛИ -t (--timestamp): указываем, какую именно статистику будем ранжировать - выставляем либо build_index, либо timestamp

Также дополнительно можно указать следующие флаги:
1) -- border: аргумент типа float, должен принадлежать промежутку (0, 1], указывает, какой процент ранжированных данных мы хотим выводить в файл (например, 0.1 соответствует 10%), при помощи этого флага можно указать, например, что мы хотим выводить 10% самых нагруженных задач. Значение border по умолчанию равно 1, то есть ранжируем все данные.
2) --metric: аргумент типа str, указывает, по какой метрике мы хотим производить ранжирование. По умолчанию указывается метрика 'Elapsed time'. Указанная метрика должна существовать в статистике.
3) --reverse: аргумент типа int, 0 соответствует значению reverse=False, остальные значения соответствуют reverse=True. Если reverse==True, то ранжирование происходит по убыванию, иначе по возрастанию.

Примеры запуска ранжирования: 
`python3 main.py -g ranking -p ../../poky -b 2`
`python3 main.py -g ranking -p ../../poky -t 20240212085739 --metric Started --reverse 0`
`python3 main.py -g ranking -p ../../poky -b 2 --border 0.1`

## Граф зависимостей

Для запуска построения и анализа графа зависимостей необходимо обязательно указать следующие флаги:
1) -p (--poky_path): путь до папки poky
2) -d (--dot_file): путь до .dot файла, который хранит данные о графе зависимостей
3) -b (--build_index) ИЛИ -t (--timestamp): указываем, какую именно статистику будем сопоставлять с графом - выставляем либо build_index, либо timestamp

*для создания .dot файла, который хранит данные о графе зависимостей, можно воспользоваться встроенным функционалом bitbake'a: `bitbake -g <image_name>`. Пример: `bitbake -g core-image-sato` 

Примеры запуска построения и анализа графа зависимостей:
`python3 main.py -g graph -p ../../poky -t 20240212085739 -d ./task-depends.dot`
`python3 main.py -g graph -p ../../poky -b 2 -d ./task-depends.dot`

## Тесты

Для запуска не нужно указывать никакие дополнительные флаги, помимо '-g tests'.

Пример запуска тестов: 
`python3 main.py -g tests`