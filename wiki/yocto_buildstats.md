## Анализ статистики сборки

В катологе /build/tmp/buildstats находятся каталоги для каждого образа со статусом сборки в папке с меткой времени.

В ней существуют подкаталоги для каждого пакета в собранном образе и файл build_stats, содержащий:
 1. Информацию о хост-системе
 2. Расположение и размер корневой файловой системы
 3. Время создания
 4. Средняя загрузка процессора
 5. Статистика диска

 Например, проделанная мною сборка заняла 3535.9 секунд (~1 час), при этом загруженность процессора составила 79.3%.

Также в каталоге buildstats находятся файлы reduced_proc_meminfo.log, reduced_proc_diskstats.log, reduced_proc_stat.log, содержащие информацию об использовании RAM, памяти, процессора соответственно. 

Данные файлы соответствуют структуре:
- Время 1
- Метрики в момент времени 'время 1' ..... 

- Время 2
- Метрики в момент времени 'время 2'.....

Так, например,  файл reduced_proc_meminfo.log содержит следующие метрики соответственно:  'MemTotal', 'MemFree', 'Buffers', 'Cached', 'SwapTotal', 'SwapFree':

![alt text](пример.png)

Также внутри buildstats существует каталог reduced_proc_pressure, в котором находятся аналогичные файлы о CPU_Pressure, MEM Pressure и I/O Pressure.

В каталогах, соответствующих пакетам, находятся файлы do_configure, do_install, do_compile, etc..., которые содержат данные о начале выполнения данной задаче, конце выполнения, статусе выполнение и прочие, см. пример:

![alt text](пример2.png)


## Получение графиков сборки
 При помощи скрипта, находящегося в /poky/scripts/pybootchartgui/pybootchartgui.py и указания конкретной сборки по временной метке был построен график сборки (из директории build выполнялась команда `$../scripts/pybootchartgui/pybootchartgui.py tmp/buildstats/20240212085739/ -o ./`, был получен график bootchart.png в директории build):

 ![alt text](bootchart.png)


## Анализ графиков сборки
 Ось X данного графика соответствует времени сборки в секундах.
 Сверху находятся подграфики, отображающие
1. Нагрузку на процессор
2. Пропускную способность диска
3. Среднее CPU Pressure (как я поняла, это количество процессов, простаивающих в ожидании получения "доступа" к CPU)
4. Среднее I/O Pressure (то же самое, что и п.3, но в ожидании ввода-записи)
5. Среднее MEM Pressure (то же самое, что и п.3, но в ожидании получения памяти)
6. Нагрузка на файловую систему
7. Нагрузка на RAM (в том числе процент, занимаемый кэшем и буфферами, а также график swap).


Далее идет временной график, отображающий выполнение каждой задачи. Для каждой задачи видно, когда она началась, когда закончилась, написано сколько секунд заняло выполнение, а также цветом обозначен тип задачи (конфигурирование/установка/компиляция и т.п.). Из графика можно понять, какие задачи выполнялись одновременно.

----------------------------------------------------------------------------------------------------------------
